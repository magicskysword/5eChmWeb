<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>写在前面</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1 class="site-title">写在前面</h1>
                <button class="sidebar-toggle" id="sidebarToggle" title="收起侧边栏">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                    </svg>
                </button>
            </div>
            
            <!-- 标签页 -->
            <div class="sidebar-tabs">
                <button class="sidebar-tab active" data-tab="toc">目录</button>
                <button class="sidebar-tab" data-tab="search">搜索</button>
            </div>
            
            <!-- 目录标签页 -->
            <div class="tab-content active" id="tocTab">
                <!-- 快速搜索框 -->
                <div class="quick-search-container">
                    <input type="text" id="quickSearchInput" placeholder="快速搜索..." autocomplete="off">
                    <div class="quick-search-results" id="quickSearchResults"></div>
                </div>
                
                <!-- 目录树 -->
                <nav class="toc-container" id="tocContainer">
                    <div class="toc-tree" id="tocTree"></div>
                </nav>
            </div>
            
            <!-- 搜索标签页 -->
            <div class="tab-content" id="searchTab">
                <div class="search-header">
                    <div class="search-input-group">
                        <input type="text" id="searchInput" placeholder="搜索内容..." autocomplete="off">
                        <button id="searchButton">搜索</button>
                    </div>
                </div>
                <div class="search-results-panel" id="searchResultsPanel">
                    <div id="searchStats"></div>
                    <div id="searchResultsList"></div>
                </div>
            </div>
        </aside>
        
        <!-- 主内容区 -->
        <main class="main-content" id="mainContent">
            <div class="content-header">
                <button class="menu-toggle" id="menuToggle" title="显示菜单">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </button>
                <div class="breadcrumb" id="breadcrumb"></div>
                <button class="bookmarks-open-toggle" id="bookmarksOpenToggle" title="书签">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                    </svg>
                </button>
                <button class="theme-toggle" id="themeToggle" title="切换主题" style="display: none;">
                    <svg class="sun-icon" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>
                    </svg>
                </button>
            </div>
            
            <div class="content-body" id="contentBody">
                <iframe id="contentFrame" name="contentFrame"></iframe>
            </div>
            
            <div class="welcome-screen" id="welcomeScreen">
                <div class="welcome-content">
                    <h2>欢迎阅读 写在前面</h2>
                    <p>请从左侧目录选择要阅读的内容</p>
                    <p class="tip">💡 提示：使用搜索框可以快速查找内容</p>
                </div>
            </div>
        </main>
        
        <!-- 书签面板 -->
        <aside class="bookmarks-panel collapsed" id="bookmarksPanel">
            <div class="bookmarks-header">
                <h3>书签</h3>
                <button class="bookmarks-toggle" id="bookmarksToggle" title="收起书签">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/>
                    </svg>
                </button>
            </div>
            <div class="bookmarks-actions">
                <button class="bookmark-add" id="addPageBookmark" title="收藏本页">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                    </svg>
                    收藏本页
                </button>
                <button class="bookmark-clear" id="clearBookmarks" title="清空所有书签">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                    清空
                </button>
            </div>
            <div class="bookmarks-list" id="bookmarksList">
                <div class="bookmarks-empty">暂无书签</div>
            </div>
        </aside>
    </div>
    
    <script src="assets/tree-data.js"></script>
    <script src="assets/search-index.js"></script>
    <script src="assets/app.js"></script>
</body>
</html>
